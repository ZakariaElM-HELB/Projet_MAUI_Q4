<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:microcharts="clr-namespace:Microcharts.Maui;assembly=Microcharts.Maui"
             x:Class="MyApp.View.StatsView"
             BackgroundColor="#f57c00"
             Title="Statistiques">

    <ScrollView>
        <VerticalStackLayout Padding="24" Spacing="30" HorizontalOptions="Center">

            <!-- Titre principal -->
            <Label Text="📊 Statistiques du membre"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="White"
                   HorizontalOptions="Center" />

            <!-- Bouton pour ajouter une visite -->
            <Button Text="Ajouter une visite aujourd'hui"
                    Command="{Binding IncrementTodayVisitCommand}"
                    BackgroundColor="#9C27B0"
                    TextColor="White"
                    FontAttributes="Bold"
                    CornerRadius="12"
                    Padding="12"
                    WidthRequest="280"
                    HorizontalOptions="Center"/>

            <!-- Message de confirmation -->
            <Label Text="{Binding LastActionMessage}"
                   FontSize="16"
                   TextColor="#00e676"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   Margin="0,10,0,0" />

            <!-- Titre pour le graphique hebdomadaire -->
            <Label Text="Répartition des visites cette semaine"
                   FontSize="18"
                   FontAttributes="Bold"
                   TextColor="White"
                   HorizontalOptions="Center"
                   Margin="0,20,0,0" />

            <!-- Graphique hebdomadaire -->
            <Grid BackgroundColor="White"
                  Padding="20"
                  WidthRequest="360"
                  HeightRequest="320"
                  HorizontalOptions="Center">
                <microcharts:ChartView Chart="{Binding MyWeeklyChart}" />
            </Grid>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
